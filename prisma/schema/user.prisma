model User {
  id                 String     @id @default(uuid())
  email              String     @unique
  password           String
  role               UserRole  @default(TOURIST)
  needPasswordChange Boolean    @default(false)
  status             UserStatus @default(ACTIVE)
  createdAt          DateTime   @default(now())
  updatedAt          DateTime   @updatedAt

admin   Admin?
guide   Guide?
tourist Tourist?


  @@map("users")
}


model Admin {
  id            String   @id @default(uuid())
  name          String
  email         String   @unique
  profilePhoto  String?
  contactNumber String?
  isDeleted     Boolean  @default(false)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  user User @relation(fields: [email], references: [email])

  @@map("admins")
}


model Guide {
  id                  String              @id @default(uuid())
  name                String
  email               String              @unique
  profilePhoto        String?
  bio                 String?
  languages           String[]            @default([])
  expertise           String[]            @default([])
  dailyRate           Int?
  verificationStatus  VerificationStatus  @default(PENDING)
  contactNumber       String?
  address             String?
  isDeleted           Boolean             @default(false)
  createdAt           DateTime            @default(now())
  updatedAt           DateTime            @updatedAt

  listings     Listing[]
  bookings     Booking[] @relation("GuideBookings")

  user User @relation(fields: [email], references: [email])

  @@map("guides")
}


model Tourist {
  id            String   @id @default(uuid())
  email         String   @unique
  name          String
  profilePhoto  String?
  preferences   String?
  contactNumber String?
  isDeleted     Boolean  @default(false)
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  bookings Booking[] @relation("TouristBookings")
  reviews  Review[]

  user User @relation(fields: [email], references: [email])

  @@map("tourists")
}